var routes;routes=function(t){return t.when("/",{redirectTo:"/auth"}).when("/auth",{templateUrl:"templates/routes/auth.html",controller:"AuthenticationController"}).when("/topic",{templateUrl:"templates/routes/topics.html",controller:"TopicsController"}).when("/topic/:id/create",{templateUrl:"templates/routes/createPost.html",controller:"CreatePostController"}).when("/topic/create",{templateUrl:"templates/routes/createTopic.html",controller:"CreateTopicController"}).when("/topic/:topicId/post/:id",{templateUrl:"templates/routes/post.html",controller:"PostController"}).when("/topic/:topicId/post/:id/comment",{templateUrl:"templates/routes/createComment.html",controller:"CreateCommentController"}).when("/topic/:topicId/post/:id",{templateUrl:"templates/routes/post.html",controller:"ViewPostController"}).when("/topic/:id",{templateUrl:"templates/routes/topic.html",controller:"TopicController"}).when("/posts",{templateUrl:"templates/routes/viewAllPosts.html",controller:"ViewAllPostsController"}).otherwise({redirectTo:"/auth"})},routes.$inject=["$routeProvider"],angular.module("hackrplus",["ngRoute","firebase"]).config(routes),Firebase.enableLogging=function(t){return console.log((new Date).toISOString()+": "+t)};var AuthenticationController;AuthenticationController=function(t,r,e,o){var a,n;return n=function(t){return t?(e.authData=t,console.log(e.authData),o.path("/topic")):void 0},t.$onAuth(n),a=function(t){return console.error(a)},r.authWith=function(r){return t.$authWithOAuthPopup(r)["catch"](a)}},AuthenticationController.$inject=["auth","$scope","dataStore","$location"],angular.module("hackrplus").controller("AuthenticationController",AuthenticationController);var CreateCommentController;CreateCommentController=function(t,r,e,o,a,n){var l;return l=e.authData,t.authData=o(l),t.author=t.authData.username,t.submit=function(){return r.create({comment:t.comment,poster:t.author},"topics/"+a.topicId+"/posts/"+a.id+"/comments"),n.path("/topic")}},CreateCommentController.$inject=["$scope","db","dataStore","getAuthData","$routeParams","$location"],angular.module("hackrplus").controller("CreateCommentController",CreateCommentController);var CreatePostController;CreatePostController=function(t,r,e,o,a,n){var l;return l=e.authData,t.authData=a(l),t.author=t.authData.username,t.submitPost=function(){var e;return e={title:t.title,body:t.body,poster:t.author,comments:[]},r.create(e,"topics/"+n.id+"/posts"),r.create(e,"posts"),o.path("/topic")}},CreatePostController.$inject=["$scope","db","dataStore","$location","getAuthData","$routeParams"],angular.module("hackrplus").controller("CreatePostController",CreatePostController);var CreateTopicController;CreateTopicController=function(t,r,e,o,a,n){var l;return t.submit=function(){return a.create({name:t.name,description:t.description,posts:[],poster:t.author},"topics"),n.path("/topic")},t.auth=o,l=r.authData,t.authData=e(l),t.author=t.authData.username},CreateTopicController.$inject=["$scope","dataStore","getAuthData","auth","db","$location"],angular.module("hackrplus").controller("CreateTopicController",CreateTopicController);var ViewPostController;ViewPostController=function(t,r,e,o){var a,n;return t.createComment=function(){return o.path("/topic/"+r.topicId+"/post/"+r.id+"/comment")},a="topics/"+r.topicId+"/posts/"+r.id,n=e.find(a+"/comments"),t.post=e.findObj(a),t.comments=e.find(a+"/comments")},ViewPostController.$inject=["$scope","$routeParams","db","$location"],angular.module("hackrplus").controller("ViewPostController",ViewPostController);var TopicController;TopicController=function(t,r,e,o,a,n){var l,u,c;return t.createPost=function(){return a.path("/topic/"+o.id+"/create")},l=e.authData,t.dataStore=e,t.location=a,t.topicId=o.id,c=r.find("topics/"+o.id+"/posts"),t.posts=c,u=o.id},TopicController.$inject=["$scope","db","dataStore","$routeParams","$location","auth"],angular.module("hackrplus").controller("TopicController",TopicController);var TopicsController;TopicsController=function(t,r,e,o,a,n){var l;return t.dataStore=e,t.createTopic=function(){return a.path("/topic/create")},l=r.find("posts"),t.topics=r.find("topics")},TopicsController.$inject=["$scope","db","dataStore","auth","$location","getAuthData"],angular.module("hackrplus").controller("TopicsController",TopicsController);var UserBarController;UserBarController=function(t,r,e,o,a){return t.logout=function(){return o.$unauth(),r.path("/auth"),e.authData={}},console.log(e.authData)},UserBarController.$inject=["$scope","$location","dataStore","auth","getAuthData"],angular.module("hackrplus").controller("UserBarController",UserBarController);var ViewAllPostsController;ViewAllPostsController=function(t,r){return t.posts=r.find("posts")},ViewAllPostsController.$inject=["$scope","db"],angular.module("hackrplus").controller("ViewAllPostsController",ViewAllPostsController);var settings;settings=function(){return{templateUrl:"templates/directives/post-preview.html",scope:{post:"=",topic:"="}}},angular.module("hackrplus").directive("postPreview",settings);var userBar;userBar=function(){var t;return t={templateUrl:"templates/directives/user-bar.html",restrict:"E",controller:"UserBarController"}},angular.module("hackrplus").directive("userBar",userBar);var auth;auth=function(t){var r;return r=new Firebase("http://hackrplus.firebaseio.com"),t(r)},auth.$inject=["$firebaseAuth"],angular.module("hackrplus").factory("auth",auth);var dataStore;dataStore=function(){return{}},angular.module("hackrplus").factory("dataStore",dataStore);var db;db=function(t,r){var e,o,a,n,l,u,c,i,s;return s="https://hackrplus.firebaseio.com",e=function(r){var e;return e=new Firebase(s+"/"+r),t(e)},o=function(t){var e;return e=new Firebase(s+"/"+t),r(e)},u=function(t){return e(t)},c=function(t){return o(t)},a=function(t,r){var o;return null==t&&(t={}),o=e(r),o.$add(t)},l=function(t,r){var o;return null==t&&(t={}),o=e(r)},n=function(t,r){var o;return o=e(r),o.$remove(t)},i={create:a,edit:l,del:n,find:u,findObj:c}},db.$inject=["$firebaseArray","$firebaseObject"],angular.module("hackrplus").factory("db",db);var getAuthData;getAuthData=function(t){return function(t){return t?t[t.provider]:void 0}},getAuthData.$inject=["$location"],angular.module("hackrplus").factory("getAuthData",getAuthData);